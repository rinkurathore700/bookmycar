
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="main.css">
    <!--Jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->  
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Bookmytrip</title>
    <link rel="icon" href="Images/title.png" type="image/png">    
    <script>
        $(document).ready(() => {
                 $('.get-data').on('change', (e) => {
                     $('.table').empty();
                     const id = $("#xxx option:selected").text();
                    $.ajax({
                        type: 'GET',
                        url: 'car/booking/' + id,
                        success: (data) => {
                            var n = data.length;
                            var txt = "";
                            for(var i=0;i<n;i++){
                                    txt += "<tr><td>"+data[i].Name+"</td><td>"+data[i].Departure_Date+"</td><td>"+data[i].Arrival_Date +"</td><td>"+data[i].Time+"</td><td>"+data[i].Pick_Up_Location+"</td><td>"+data[i].Drop_off_Location+"</td><td>"+data[i].Car_Name+"</td><td>"+data[i].price+"</td><td>"+data[i].Status+"</td></tr>";
                                if(txt != ""){
                                    $(".table").append(txt);
                                }  
                                txt = "";
                            }
                        },
                        error: (error) => {
                            console.log(error);
                        }
                    });
                }); 
        });
    </script>
</head>
<body class="grey lighten-3">
     <!--Navbar-->
    <div class="hoverable navbar-fixed">
        <nav class="teal">
            <div class="container-fluid">
                <div class="center nav-wrapper">
                    <ul class="center" >
                        <li id="logo">
                              <img height="60px" width="60px" src="Images/trip.png" alt="Logo"> 
                        </li>
                        <li>
                            <a href="/"> <h5 id="bmc"><span class="black-text">Book</span>MyCar</h5></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
      </div><br><br>
      <div class="container">
            <select class="get-data" id="xxx" data-id="Completed" name="customer" required>
                <option value="">Select a customer</option>
                <option value="Upcoming">Active</option>
                <option value="Completed">Completed</option>
                <option value="Cancelled">Cancelled</option>
            </select>
        
          <br><br><br><br><br><br>
        <table>
            <tr class="grey darken-2">
                <th class="white-text center">Name</th>
                <th class="white-text center">Departure Date</th>
                <th class="white-text center">Arrival Date</th>
                <th class="white-text center">Time</th>
                <th class="white-text center">Pick up location</th>
                <th class="white-text center">"Drop off location</th>
                <th class="white-text center">Car Name</th>
                <th class="white-text center">Price</th>
                <th class="white-text center">Status</th>
            </tr>
        </table>
    <table class="table"></table>
        
     <!--<table>
       {{#each rows as |rows|}}
        <tr   class="grey lighten-2">
            <td class="center">{{rows.Name}}</td>
            <td class="center">{{rows.Departure_Date}}</td>
            <td class="center">{{rows.Arrival_Date}}</td>
            <td class="center">{{rows.Time}}</td>
            <td class="center">{{rows.Pick_Up_Location}}</td>
            <td class="center">{{rows.Drop_off_Location}}</td>
            <td class="center">{{rows.Car_Name}}</td>
            <td class="center">{{rows.price}}</td>
            <td class="center">{{rows.Status}}</td> 
        </tr>
        {{/each}} 
    </table>-->
    </div>
</body>
<script>
    $(document).ready(() => {
        $('select').formSelect();
    });
</script>
</html>